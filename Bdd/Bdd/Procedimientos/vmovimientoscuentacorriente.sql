DROP VIEW IF EXISTS `vmovimientoscuentacorriente`;
CREATE OR REPLACE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `vmovimientoscuentacorriente` AS select `m`.`id` AS `id`,`m`.`idcuentacorriente` AS `idcuentacorriente`,`m`.`idtipomovimiento` AS `idtipomovimiento`,`m`.`monto` AS `monto`,`m`.`descripcion` AS `descripcion`,`m`.`fechavencimiento` AS `fechavencimiento`,`m`.`fecha` AS `fecha`,`m`.`usu` AS `usu`,`m`.`fmodif` AS `fmodif`,`m`.`idrubro` AS `idrubro`,`c`.`codigo` AS `codigo`,`c`.`identidaddeudora` AS `identidaddeudora`,`c`.`identidadbeneficiaria` AS `identidadbeneficiaria`,`c`.`estado` AS `estado`,`c`.`fecha` AS `fechacreacion`,`c`.`idsucursales` AS `idsucursales`,`c`.`habilitado` AS `habilitado`,(case `m`.`idtipomovimiento` when 1 then `m`.`monto` else NULL end) AS `debito`,(case `m`.`idtipomovimiento` when 2 then `m`.`monto` else NULL end) AS `credito` from (`movimientoscuentacorriente` `m` join `cuentacorriente` `c` on((`m`.`idcuentacorriente` = `c`.`id`)));